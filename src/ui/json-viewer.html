<link rel="import" href="json-key.html">

<dom-module id="json-viewer">
  <template>
    <style>
			:host {
				display: block;
				width: 300px;
				height: 500px;
				overflow-y: scroll;
			}
    </style>

		<json-key key="[[_key]]"></json-key>

  </template>
  <script>
    class JsonViewer extends Polymer.GestureEventListeners(Polymer.Element) {
      static get is() {
        return "json-viewer";
      }

      static get properties() {
        return {
					json: Object,
					_key: {
						type: Object,
						computed: "_makeKey(json)"
					}
        }
      }

			_makeKey(item) {
				var type = typeof(item);
				if (item instanceof Array)
					type = "array";
				else if (item === null)
					type = "null";
				
				return {
					name: "",
					type: type,
					value: item
				}
			}
    }
    customElements.define(JsonViewer.is, JsonViewer);
  </script>
</dom-module>