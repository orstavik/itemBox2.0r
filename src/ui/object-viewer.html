<link rel="import" href="object-key.html">

<dom-module id="object-viewer">
  <template>
    <style>
			:host {
				display: block;
				width: 400px;
				height: 500px;
				overflow-y: scroll;
			}
    </style>

		<object-key key="[[_key]]"></object-key>

  </template>
  <script>
    class ObjectViewer extends Polymer.GestureEventListeners(Polymer.Element) {
      static get is() {
        return "object-viewer";
      }

      static get properties() {
        return {
					json: Object,
					name: {
						type: String,
						value: ""
					},
					_key: {
						type: Object,
						computed: "_makeKey(json)"
					}
        }
      }

			_makeKey(item) {
				var type = typeof(item);
				if (item instanceof Array)
					type = "array";
				else if (item === null)
					type = "null";
				
				return {
					name: this.name,
					type: type,
					value: item
				}
			}
    }
    customElements.define(ObjectViewer.is, ObjectViewer);
  </script>
</dom-module>