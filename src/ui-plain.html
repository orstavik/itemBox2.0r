<link rel="import" href="selection-box.html">
<link rel="import" href="shape-box.html">

<dom-module id="ui-plain">
  <template>
    <style>
      :host {
        height: 100%;
      }
    </style>

    <selection-box id="selection" shapes="[[shapes]]"></selection-box>
    <slot></slot>
    <shape-box id="shapeBox" shapes="[[selectedRegistry]]"></shape-box>

  </template>

  <script>

    class UiPlain extends Polymer.Element {
      static get is() {
        return "ui-plain";
      }

      static get properties() {
        return {
          shapes: Object,
          selectedRegistry: {
            type: Object,
            computed: "_makeSelectedRegistry(shapes)"
          }
        }
      }

      _makeSelectedRegistry(shapes){
        const res ={};
        for (let key in shapes) {
          if (shapes[key].selected)
            res[key] = shapes[key];
        }
        return res;
      }
    }
    customElements.define(UiPlain.is, UiPlain);
  </script>
</dom-module>